(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94918e46"],{ca42:function(t,e,s){},e001:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video",style:{"-webkit-overflow-scrolling":t.scrollMode}},[s("div",{staticClass:"nav"},[s("div",{staticClass:"nav-item",class:{active:t.isActive1},on:{click:function(e){e.stopPropagation(),t.show1()}}},[t._v("年级")]),s("i"),s("div",{staticClass:"nav-item",class:{active:t.isActive2},on:{click:function(e){e.stopPropagation(),t.show2()}}},[t._v("科目")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive1,expression:"isActive1"}],staticClass:"drop"},[s("ul",{staticClass:"dropmeau"},t._l(t.listGrade,function(e,a){return s("li",{key:e.id,class:[t.curIndex1===a?"active":""],attrs:{"data-id":e.id,"data-index":a},on:{click:function(e){t.selectGrade(e)}}},[t._v(t._s(e.grade))])}))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive2,expression:"isActive2"}],staticClass:"drop"},[s("ul",{staticClass:"dropmeau"},t._l(t.listSubject,function(e,a){return s("li",{key:e.id,class:[t.curIndex2===a?"active":""],attrs:{"data-id":e.id,"data-index":a},on:{click:function(e){t.selectSubject(e)}}},[t._v(t._s(e.subject))])}))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive1||t.isActive2,expression:"isActive1||isActive2"}],staticClass:"mask"}),s("mt-swipe",{attrs:{auto:3e3}},t._l(t.banner,function(t){return s("mt-swipe-item",{key:t.id},[s("router-link",{staticClass:"swiperUrl",attrs:{tag:"div",to:{path:"/videoDetail",query:{id:t.id}}}},[s("img",{attrs:{src:t.videoCoverUrl,alt:""}})])],1)})),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.total,expression:"!total"}],staticClass:"tip ac"},[t._v("暂无数据")]),s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[s("div",{staticClass:"mint-loadmore-top fs-34",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.topStatus,expression:"topStatus === 'pull'"}]},[t._v("下拉刷新最新数据")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[t._v("--加载中请稍后--")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.topStatus,expression:"topStatus === 'drop'"}]},[t._v("松开手指即可更新")])]),s("myVideo",{ref:"myvideo",attrs:{data:t.info}}),s("div",{staticClass:"mint-loadmore-bottom fs-34",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.bottomStatus,expression:"bottomStatus  === 'pull'"}],class:{rotate:"drop"===t.bottomStatus}},[t._v("继续往上拉")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[t._v("刷新中，请稍等")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.bottomStatus,expression:"bottomStatus === 'drop'"}]},[t._v("松手刷新")])])],1)],1)},o=[],i=(s("4917"),s("5fc6"),s("5af2")),n=s.n(i),d=(s("cadf"),s("551c"),s("097d"),s("3818")),c={data:function(){return{isActive1:!1,isActive2:!1,curIndex1:0,curIndex2:0,listGrade:[{id:0,grade:"全部"},{id:1,grade:"初一"},{id:2,grade:"初二"},{id:3,grade:"初三"},{id:4,grade:"高一"},{id:5,grade:"高二"},{id:6,grade:"高三"}],listSubject:[{id:0,subject:"全部"},{id:1,subject:"语文"},{id:2,subject:"数学"},{id:3,subject:"英语"},{id:4,subject:"物理"},{id:5,subject:"化学"},{id:6,subject:"生物"},{id:7,subject:"历史"},{id:8,subject:"地理"},{id:9,subject:"政治"}],allLoaded:!1,bottomStatus:"",topStatus:"",params:{},pageNow:1,pageNows:1,pageSize:10,info:[],banner:[],total:1,scrollMode:"auto"}},created:function(){var t=parseInt(window.sessionStorage.getItem("grade"));this.curIndex1=t||0;var e=parseInt(window.sessionStorage.getItem("subject"));this.curIndex2=e||0,this.getBanner(),this.getInfo()},mounted:function(){},methods:{show1:function(){this.isActive1=!this.isActive1,this.isActive2=!1},show2:function(){this.isActive2=!this.isActive2,this.isActive1=!1},selectGrade:function(t){this.curIndex1=parseInt(t.currentTarget.dataset.index?t.currentTarget.dataset.index:0),this.getInfo(),window.sessionStorage.setItem("grade",this.curIndex1),this.isActive1=!1},selectSubject:function(t){this.curIndex2=parseInt(t.currentTarget.dataset.index?t.currentTarget.dataset.index:0),this.getInfo(),window.sessionStorage.setItem("subject",this.curIndex2),this.isActive2=!1},loadBottom:function(){var t=this;t.pageNows+=1;var e=Math.ceil(t.total/10);t.pageSize=10*t.pageNows,setTimeout(function(){t.pageNows<=e?t.getInfo():(t.allLoaded=!0,n()({message:"已加载完所有数据",duration:2e3,position:"bottom"})),console.log(t.allLoaded),t.$refs.loadmore.onBottomLoaded()},1e3)},handleBottomChange:function(t){this.bottomStatus=t},loadTop:function(){var t=this;t.allLoaded=!1,t.pageSize=10,setTimeout(function(){t.getInfo(),t.$refs.loadmore.onTopLoaded()},1e3)},handleTopChange:function(t){this.topStatus=t},getInfo:function(){var t=this,e=this.$store.getters.userInfo.userId,s=this;this.params={pageNow:this.pageNow,pageSize:this.pageSize,grade:this.curIndex1,subject:this.curIndex2,userId:e},this.axios.get("/u/videoList",{params:this.params}).then(function(e){if(console.log(e.data),0==e.data.code){s.info=e.data.data,console.log(s.info),s.total=e.data.total;var a=navigator.userAgent;console.log(a);var o=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);1==o&&(console.log(11),t.scrollMode="touch")}else alert(e.data.message)}).catch(function(t){console.log(t)})},getBanner:function(){var t=this;this.axios.get("/u/video/banner").then(function(e){console.log(e.data),0==e.data.code?(t.banner=e.data.data,console.log(t.info)):alert(e.data.message)}).catch(function(t){console.log(t)})}},components:{myVideo:d["a"]}},r=c,l=(s("ec86"),s("2877")),u=Object(l["a"])(r,a,o,!1,null,"12ef60a1",null);u.options.__file="video.vue";e["default"]=u.exports},ec86:function(t,e,s){"use strict";var a=s("ca42"),o=s.n(a);o.a}}]);
//# sourceMappingURL=chunk-94918e46.e87185b0.js.map