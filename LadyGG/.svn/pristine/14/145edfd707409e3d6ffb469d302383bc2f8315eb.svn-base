(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c30fa78"],{"82db":function(t,e,a){},a662:function(t,e,a){"use strict";var s=a("82db"),o=a.n(s);o.a},e001:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video",style:{"-webkit-overflow-scrolling":t.scrollMode}},[a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-item",class:{active:t.isActive1},on:{click:function(e){e.stopPropagation(),t.show1()}}},[t._v("年级")]),a("i"),a("div",{staticClass:"nav-item",class:{active:t.isActive2},on:{click:function(e){e.stopPropagation(),t.show2()}}},[t._v("科目")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive1,expression:"isActive1"}],staticClass:"drop"},[a("ul",{staticClass:"dropmeau"},t._l(t.listGrade,function(e,s){return a("li",{key:e.id,class:[t.curIndex1===s?"active":""],attrs:{"data-id":e.id,"data-index":s},on:{click:function(e){t.selectGrade(e)}}},[t._v(t._s(e.grade))])}))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive2,expression:"isActive2"}],staticClass:"drop"},[a("ul",{staticClass:"dropmeau"},t._l(t.listSubject,function(e,s){return a("li",{key:e.id,class:[t.curIndex2===s?"active":""],attrs:{"data-id":e.id,"data-index":s},on:{click:function(e){t.selectSubject(e)}}},[t._v(t._s(e.subject))])}))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive1||t.isActive2,expression:"isActive1||isActive2"}],staticClass:"mask"}),a("mt-swipe",{attrs:{auto:3e3}},t._l(t.banner,function(t){return a("mt-swipe-item",{key:t.id},[a("router-link",{staticClass:"swiperUrl",attrs:{tag:"div",to:{path:"/videoDetail",query:{id:t.id}}}},[a("img",{attrs:{src:t.videoCoverUrl,alt:""}})])],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.total,expression:"!total"}],staticClass:"tip ac"},[t._v("暂无数据")]),a("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[a("div",{staticClass:"mint-loadmore-top fs-34",attrs:{slot:"top"},slot:"top"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.topStatus,expression:"topStatus === 'pull'"}]},[t._v("下拉刷新最新数据")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[t._v("--加载中请稍后--")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.topStatus,expression:"topStatus === 'drop'"}]},[t._v("松开手指即可更新")])]),a("myVideo",{ref:"myvideo",attrs:{data:t.info}}),a("div",{staticClass:"mint-loadmore-bottom fs-34",attrs:{slot:"bottom"},slot:"bottom"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"pull"===t.bottomStatus,expression:"bottomStatus  === 'pull'"}],class:{rotate:"drop"===t.bottomStatus}},[t._v("继续往上拉")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[t._v("刷新中，请稍等")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"drop"===t.bottomStatus,expression:"bottomStatus === 'drop'"}]},[t._v("松手刷新")])])],1)],1)},o=[],i=(a("4917"),a("5fc6"),a("5af2")),n=a.n(i),d=(a("cadf"),a("551c"),a("097d"),a("3818")),r={data:function(){return{isActive1:!1,isActive2:!1,curIndex1:0,curIndex2:0,listGrade:[{id:0,grade:"全部"},{id:1,grade:"初一"},{id:2,grade:"初二"},{id:3,grade:"初三"},{id:4,grade:"高一"},{id:5,grade:"高二"},{id:6,grade:"高三"}],listSubject:[{id:0,subject:"全部"},{id:1,subject:"语文"},{id:2,subject:"数学"},{id:3,subject:"英语"},{id:4,subject:"物理"},{id:5,subject:"化学"},{id:6,subject:"生物"},{id:7,subject:"历史"},{id:8,subject:"地理"},{id:9,subject:"政治"}],allLoaded:!1,bottomStatus:"",topStatus:"",params:{},pageNow:1,pageNows:1,pageSize:10,info:[],banner:[],total:1,scrollMode:"auto"}},created:function(){var t=parseInt(window.sessionStorage.getItem("grade"));this.curIndex1=t||0;var e=parseInt(window.sessionStorage.getItem("subject"));this.curIndex2=e||0,this.getBanner(),this.getInfo()},mounted:function(){},methods:{show1:function(){this.isActive1=!this.isActive1,this.isActive2=!1},show2:function(){this.isActive2=!this.isActive2,this.isActive1=!1},selectGrade:function(t){this.curIndex1=parseInt(t.currentTarget.dataset.index?t.currentTarget.dataset.index:0),this.getInfo(),window.sessionStorage.setItem("grade",this.curIndex1),this.isActive1=!1},selectSubject:function(t){this.curIndex2=parseInt(t.currentTarget.dataset.index?t.currentTarget.dataset.index:0),this.getInfo(),window.sessionStorage.setItem("subject",this.curIndex2),this.isActive2=!1},loadBottom:function(){var t=this;t.pageNows+=1;var e=Math.ceil(t.total/10);t.pageSize=10*t.pageNows,setTimeout(function(){t.pageNows<=e?t.getInfo():(t.allLoaded=!0,n()({message:"已加载完所有数据",duration:2e3,position:"bottom"})),console.log(t.allLoaded),t.$refs.loadmore.onBottomLoaded()},1e3)},handleBottomChange:function(t){this.bottomStatus=t},loadTop:function(){var t=this;t.allLoaded=!1,t.pageSize=10,setTimeout(function(){t.getInfo(),t.$refs.loadmore.onTopLoaded()},1e3)},handleTopChange:function(t){this.topStatus=t},getInfo:function(){var t=this.$store.getters.userInfo.userId,e=this;this.params={pageNow:this.pageNow,pageSize:this.pageSize,grade:this.curIndex1,subject:this.curIndex2,userId:t},this.axios.get("/u/videoList",{params:this.params}).then(function(t){if(console.log(t.data),0==t.data.code){e.info=t.data.data,console.log(e.info),e.total=t.data.total;var a=navigator.userAgent;console.log(a);var s=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);1==s&&(e.scrollMode="touch"),alert(e.scrollMode)}else alert(t.data.message)}).catch(function(t){console.log(t)})},getBanner:function(){var t=this;this.axios.get("/u/video/banner").then(function(e){console.log(e.data),0==e.data.code?(t.banner=e.data.data,console.log(t.info)):alert(e.data.message)}).catch(function(t){console.log(t)})}},components:{myVideo:d["a"]}},c=r,l=(a("a662"),a("2877")),u=Object(l["a"])(c,s,o,!1,null,"55fbc8f5",null);u.options.__file="video.vue";e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4c30fa78.19c7f311.js.map