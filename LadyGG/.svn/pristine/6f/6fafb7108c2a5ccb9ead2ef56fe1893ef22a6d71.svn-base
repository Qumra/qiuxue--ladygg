(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7cdc426"],{"94e5":function(a,e,s){"use strict";s.r(e);var t=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"phone"},[a._m(0),t("div",{staticClass:"call"},[a._v("\n    手机:\n    "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"},{name:"model",rawName:"v-model",value:a.phone,expression:"phone"}],attrs:{type:"number",name:"phone",placeholder:"同学，请输入一个能接收验证码的手机号"},domProps:{value:a.phone},on:{input:function(e){e.target.composing||(a.phone=e.target.value)}}})]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"is-danger"},[a._v(a._s(a.errors.first("phone")))]),t("div",{staticClass:"email"},[a._v("\n    验证:\n    "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"digits:6",expression:"'digits:6'"},{name:"model",rawName:"v-model",value:a.captcha,expression:"captcha"}],attrs:{type:"text",placeholder:"请输入验证码",name:"captcha",size:"6",maxlength:"6",onkeyup:"this.value=(this.value.replace(/\\D/g,''))"},domProps:{value:a.captcha},on:{input:function(e){e.target.composing||(a.captcha=e.target.value)}}}),t("button",{class:["captcha",a.errors.has("phone")?"disabled-btn":""],attrs:{disabled:a.isDisabled},on:{click:function(e){a.send(1)}}},[a._v(a._s(a.msg))])]),t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("captcha"),expression:"errors.has('captcha')"}],staticClass:"is-danger"},[a._v(a._s(a.errors.first("captcha")))])]),t("button",{staticClass:"bind",on:{click:function(e){a.bind(1)}}},[a._v("绑定")]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.flag,expression:"flag"}],staticClass:"mask"},[t("div",{staticClass:"message"},[t("img",{staticClass:"signSuccess",attrs:{src:s("c16d"),alt:""}}),t("img",{staticClass:"score",attrs:{src:s("d31e"),alt:""}}),t("div",{staticClass:"bottom-btn"},[t("button",{staticClass:"bot-btn"},[a._v("\n          逆袭豆\n          "),t("span",{staticClass:"addScore"},[a._v("+"+a._s(a.addScore))])])])])])])},n=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"notice"},[t("img",{attrs:{src:s("5114"),alt:""}}),a._v("\n    绑定手机号/邮箱可获得20颗逆袭豆\n  ")])}],i=(s("5fc6"),s("5af2")),o=s.n(i),c=(s("cadf"),s("551c"),s("097d"),s("4328")),r=s.n(c),l={data:function(){return{addScore:20,flag:!1,msg:"获取验证码",isDisabled:!1,count:60,timer:null,phone:"",captcha:""}},methods:{send:function(a){this.isDisabled=!0;var e=this,s=r.a.stringify({phone:parseInt(this.phone)});this.axios.post("/u/user/binding/phone/"+a,s,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){console.log(a.data),0==a.data.code?(o()({message:"验证码已发送",iconClass:"icon icon-success"}),e.timer=setInterval(function(){e.count--,e.count>0?e.msg="还剩余"+e.count+"秒":(e.msg="重新发送",e.isDisabled=!1,clearInterval(e.timer),e.count=60)},1e3)):(o()({message:a.data.message,duration:3e3}),e.isDisabled=!1)}).catch(function(a){console.log(a)})},bind:function(a){var e=this;r.a.stringify({captcha:parseInt(this.captcha),phone:parseInt(this.phone)});this.axios.put("/u/user/binding/phone/".concat(a,"?phone=").concat(this.phone,"&captcha=").concat(this.captcha)).then(function(a){console.log(a.data),0==a.data.code?(e.flag=!0,setTimeout(function(){e.flag=!1,e.$router.push({path:"/card"})},3e3)):o()({message:a.data.message,duration:3e3})}).catch(function(a){console.log(a)})}}},d=l,p=(s("f056"),s("2877")),h=Object(p["a"])(d,t,n,!1,null,"43ede342",null);h.options.__file="phone.vue";e["default"]=h.exports},e38d:function(a,e,s){},f056:function(a,e,s){"use strict";var t=s("e38d"),n=s.n(t);n.a}}]);
//# sourceMappingURL=chunk-f7cdc426.0fff70c2.js.map