{"version":3,"sources":["webpack:///./src/views/video.vue?a2b5","webpack:///./src/views/video.vue?0c77","webpack:///src/views/video.vue","webpack:///./src/views/video.vue?6e6f","webpack:///./src/views/video.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_video_vue_vue_type_style_index_0_id_28268c4f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_video_vue_vue_type_style_index_0_id_28268c4f_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","active","isActive1","on","click","$event","stopPropagation","show1","_v","isActive2","show2","directives","name","rawName","value","expression","_l","item","index","key","id","curIndex1","attrs","data-id","data-index","selectGrade","_s","grade","curIndex2","selectSubject","subject","auto","src","videoCoverUrl","alt","total","ref","top-method","loadTop","bottom-method","loadBottom","bottom-all-loaded","allLoaded","auto-fill","top-status-change","handleTopChange","bottom-status-change","handleBottomChange","slot","topStatus","data","info","bottomStatus","rotate","staticRenderFns","videovue_type_script_lang_js_","listGrade","listSubject","params","pageNow","pageNows","pageSize","banner","created","tmp1","parseInt","window","sessionStorage","getItem","tmp2","getBanner","getInfo","mounted","methods","e","currentTarget","dataset","setItem","that","pages","Math","ceil","setTimeout","toast_default","message","duration","position","console","log","$refs","loadmore","onBottomLoaded","status","onTopLoaded","$store","getters","userInfo","userId","axios","get","then","response","code","alert","catch","err","components","myVideo","views_videovue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-f21754dc.2d8ce3b5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&id=28268c4f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&id=28268c4f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video\"},[_c('div',{staticClass:\"nav\"},[_c('div',{staticClass:\"nav-item\",class:{ active: _vm.isActive1 },on:{\"click\":function($event){$event.stopPropagation();_vm.show1()}}},[_vm._v(\"年级\")]),_c('i'),_c('div',{staticClass:\"nav-item\",class:{ active: _vm.isActive2 },on:{\"click\":function($event){$event.stopPropagation();_vm.show2()}}},[_vm._v(\"科目\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive1),expression:\"isActive1\"}],staticClass:\"drop\"},[_c('ul',{staticClass:\"dropmeau\"},_vm._l((_vm.listGrade),function(item,index){return _c('li',{key:item.id,class:[_vm.curIndex1===index?'active':''],attrs:{\"data-id\":item.id,\"data-index\":index},on:{\"click\":function($event){_vm.selectGrade($event)}}},[_vm._v(_vm._s(item.grade))])}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive2),expression:\"isActive2\"}],staticClass:\"drop\"},[_c('ul',{staticClass:\"dropmeau\"},_vm._l((_vm.listSubject),function(item,index){return _c('li',{key:item.id,class:[_vm.curIndex2===index?'active':''],attrs:{\"data-id\":item.id,\"data-index\":index},on:{\"click\":function($event){_vm.selectSubject($event)}}},[_vm._v(_vm._s(item.subject))])}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive1||_vm.isActive2),expression:\"isActive1||isActive2\"}],staticClass:\"mask\"}),_c('mt-swipe',{attrs:{\"auto\":3000}},_vm._l((_vm.banner),function(item){return _c('mt-swipe-item',{key:item.id},[_c('img',{attrs:{\"src\":item.videoCoverUrl,\"alt\":\"\"}})])})),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.total),expression:\"!total\"}],staticClass:\"tip ac\"},[_vm._v(\"暂无数据\")]),_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"top-method\":_vm.loadTop,\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":false},on:{\"top-status-change\":_vm.handleTopChange,\"bottom-status-change\":_vm.handleBottomChange}},[_c('div',{staticClass:\"mint-loadmore-top fs-34\",attrs:{\"slot\":\"top\"},slot:\"top\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus === 'pull'),expression:\"topStatus === 'pull'\"}]},[_vm._v(\"下拉刷新最新数据\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus === 'loading'),expression:\"topStatus === 'loading'\"}]},[_vm._v(\"--加载中请稍后--\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topStatus === 'drop'),expression:\"topStatus === 'drop'\"}]},[_vm._v(\"松开手指即可更新\")])]),_c('myVideo',{ref:\"myvideo\",attrs:{\"data\":_vm.info}}),_c('div',{staticClass:\"mint-loadmore-bottom fs-34\",attrs:{\"slot\":\"bottom\"},slot:\"bottom\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bottomStatus  === 'pull'),expression:\"bottomStatus  === 'pull'\"}],class:{ 'rotate': _vm.bottomStatus  === 'drop' }},[_vm._v(\"继续往上拉\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bottomStatus === 'loading'),expression:\"bottomStatus === 'loading'\"}]},[_vm._v(\"刷新中，请稍等\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bottomStatus === 'drop'),expression:\"bottomStatus === 'drop'\"}]},[_vm._v(\"松手刷新\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"video\">\r\n    <!-- 头部导航 -->\r\n    <div class=\"nav\">\r\n      <div class=\"nav-item\" @click.stop=\"show1()\" :class=\"{ active: isActive1 }\">年级</div>\r\n      <i></i>\r\n      <div class=\"nav-item\" @click.stop=\"show2()\" :class=\"{ active: isActive2 }\">科目</div>\r\n    </div>\r\n    <div class=\"drop\" v-show=\"isActive1\">\r\n      <ul class=\"dropmeau\">\r\n        <li\r\n          v-for=\"(item,index) in listGrade\"\r\n          :key=\"item.id\"\r\n          @click=\"selectGrade($event)\"\r\n          :class=\"[curIndex1===index?'active':'']\"\r\n          :data-id=\"item.id\"\r\n          :data-index=\"index\"\r\n        >{{item.grade}}</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"drop\" v-show=\"isActive2\">\r\n      <ul class=\"dropmeau\">\r\n        <li\r\n          v-for=\"(item,index) in listSubject\"\r\n          :key=\"item.id\"\r\n          @click=\"selectSubject($event)\"\r\n          :class=\"[curIndex2===index?'active':'']\"\r\n          :data-id=\"item.id\"\r\n          :data-index=\"index\"\r\n        >{{item.subject}}</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"mask\" v-show=\"isActive1||isActive2\"></div>\r\n\r\n    <!-- 轮播图 -->\r\n    <mt-swipe :auto=\"3000\">\r\n      <!-- v-for='item in info.bannerList' :key=\"item.videoCoverUrl\"-->\r\n      <!-- <img :src=\"item.videoCoverUrl\" alt=\"\"> -->\r\n      <mt-swipe-item v-for=\"item in banner\" :key=\"item.id\">\r\n        <img :src=\"item.videoCoverUrl\" alt>\r\n      </mt-swipe-item>\r\n    </mt-swipe>\r\n\r\n    <div class=\"tip ac\" v-show=\"!total\">暂无数据</div>\r\n    <!-- 加载更多 -->\r\n    <mt-loadmore\r\n      :top-method=\"loadTop\"\r\n      @top-status-change=\"handleTopChange\"\r\n      :bottom-method=\"loadBottom\"\r\n      :bottom-all-loaded=\"allLoaded\"\r\n      @bottom-status-change=\"handleBottomChange\"\r\n      :auto-fill=\"false\"\r\n      ref=\"loadmore\"\r\n    >\r\n      <div slot=\"top\" class=\"mint-loadmore-top fs-34\">\r\n        <span v-show=\"topStatus === 'pull'\">下拉刷新最新数据</span>\r\n        <span v-show=\"topStatus === 'loading'\">--加载中请稍后--</span>\r\n        <span v-show=\"topStatus === 'drop'\">松开手指即可更新</span>\r\n      </div>\r\n      <!-- 引入视频列表组件 -->\r\n      <myVideo ref=\"myvideo\" :data=\"info\"></myVideo>\r\n      <div slot=\"bottom\" class=\"mint-loadmore-bottom fs-34\">\r\n        <span\r\n          v-show=\"bottomStatus  === 'pull'\"\r\n          :class=\"{ 'rotate': bottomStatus  === 'drop' }\"\r\n        >继续往上拉</span>\r\n        <span v-show=\"bottomStatus === 'loading'\">刷新中，请稍等</span>\r\n        <span v-show=\"bottomStatus === 'drop'\">松手刷新</span>\r\n      </div>\r\n    </mt-loadmore>\r\n  </div>\r\n</template>\r\n<script>\r\nimport myVideo from \"../components/myVideo\";\r\nimport { Toast } from \"mint-ui\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isActive1: false,\r\n      isActive2: false,\r\n      curIndex1: 0,\r\n      curIndex2: 0,\r\n      listGrade: [\r\n        { id: 0, grade: \"全部\" },\r\n        { id: 1, grade: \"初一\" },\r\n        { id: 2, grade: \"初二\" },\r\n        { id: 3, grade: \"初三\" },\r\n        { id: 4, grade: \"高一\" },\r\n        { id: 5, grade: \"高二\" },\r\n        { id: 6, grade: \"高三\" }\r\n      ],\r\n      listSubject: [\r\n        { id: 0, subject: \"全部\" },\r\n        { id: 1, subject: \"语文\" },\r\n        { id: 2, subject: \"数学\" },\r\n        { id: 3, subject: \"英语\" },\r\n        { id: 4, subject: \"物理\" },\r\n        { id: 5, subject: \"化学\" },\r\n        { id: 6, subject: \"生物\" },\r\n        { id: 7, subject: \"历史\" },\r\n        { id: 8, subject: \"地理\" },\r\n        { id: 9, subject: \"政治\" }\r\n      ],\r\n      allLoaded: false,\r\n      bottomStatus: \"\",\r\n      topStatus: \"\",\r\n      params: {},\r\n      pageNow: 1,\r\n      pageNows: 1,\r\n      pageSize: 10,\r\n      info: [],\r\n      banner: [],\r\n      total: 1\r\n    };\r\n  },\r\n\r\n  created() {\r\n    let tmp1 = parseInt(window.sessionStorage.getItem(\"grade\"));\r\n    if (tmp1) {\r\n      this.curIndex1 = tmp1;\r\n    } else {\r\n      this.curIndex1 = 0;\r\n    }\r\n    let tmp2 = parseInt(window.sessionStorage.getItem(\"subject\"));\r\n    if (tmp2) {\r\n      this.curIndex2 = tmp2;\r\n    } else {\r\n      this.curIndex2 = 0;\r\n    }\r\n    this.getBanner();\r\n    this.getInfo();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // 控制年级，科目的展开隐藏\r\n    show1() {\r\n      this.isActive1 = !this.isActive1;\r\n      this.isActive2 = false;\r\n      // let tmp = parseInt(window.sessionStorage.getItem(\"grade\"));\r\n      // if (tmp) {\r\n      //   this.curIndex1 = tmp;\r\n      // } else {\r\n      //   this.curIndex1 = 0;\r\n      // }\r\n      // console.log(this.curIndex1);\r\n    },\r\n    show2() {\r\n      this.isActive2 = !this.isActive2;\r\n      this.isActive1 = false;\r\n      // let tmp = parseInt(window.sessionStorage.getItem(\"subject\"));\r\n      // console.log(tmp);\r\n      // if (tmp) {\r\n      //   this.curIndex2 = tmp;\r\n      // } else {\r\n      //   this.curIndex2 = 0;\r\n      // }\r\n    },\r\n    // 选择年级\r\n    selectGrade(e) {\r\n      this.curIndex1 = parseInt(\r\n        e.currentTarget.dataset.index ? e.currentTarget.dataset.index : 0\r\n      );\r\n      this.getInfo();\r\n      window.sessionStorage.setItem(\"grade\", this.curIndex1);\r\n    },\r\n    // 选择科目\r\n    selectSubject(e) {\r\n      this.curIndex2 = parseInt(\r\n        e.currentTarget.dataset.index ? e.currentTarget.dataset.index : 0\r\n      );\r\n      this.getInfo();\r\n      window.sessionStorage.setItem(\"subject\", this.curIndex2);\r\n    },\r\n    // 加载更多\r\n    loadBottom() {\r\n      var that = this;\r\n      that.pageNows += 1;\r\n      var pages = Math.ceil(that.total / 10);\r\n      that.pageSize = that.pageNows * 10;\r\n      // 加载更多数据的操作\r\n      setTimeout(function() {\r\n        if (that.pageNows <= pages) {\r\n          that.getInfo(); //再次发送请求拿到数据\r\n        } else {\r\n          that.allLoaded = true; // 若数据已全部获取完毕\r\n          Toast({\r\n            message: \"已加载完所有数据\",\r\n            duration: 2000,\r\n            position: \"bottom\"\r\n          });\r\n        }\r\n        console.log(that.allLoaded);\r\n\r\n        that.$refs.loadmore.onBottomLoaded();\r\n      }, 1000);\r\n    },\r\n    handleBottomChange: function(status) {\r\n      this.bottomStatus = status;\r\n      // console.log(status);\r\n    },\r\n    loadTop() {\r\n      // 刷新数据的操作\r\n      var that = this;\r\n      that.allLoaded = false;\r\n      (that.pageSize = 10),\r\n        setTimeout(function() {\r\n          that.getInfo();\r\n          that.$refs.loadmore.onTopLoaded();\r\n        }, 1000);\r\n    },\r\n    handleTopChange: function(status) {\r\n      this.topStatus = status;\r\n    },\r\n    // 根据userId获取视频列表\r\n    getInfo() {\r\n      let id = this.$store.getters.userInfo.userId;\r\n      let that = this;\r\n      this.params = {\r\n        pageNow: this.pageNow,\r\n        pageSize: this.pageSize,\r\n        grade: this.curIndex1,\r\n        subject: this.curIndex2,\r\n        userId: id\r\n      };\r\n      this.axios\r\n        .get(`/u/videoList`, { params: this.params })\r\n        .then(response => {\r\n          console.log(response.data);\r\n          if (response.data.code == 0) {\r\n            that.info = response.data.data;\r\n            console.log(that.info);\r\n            that.total = response.data.total;\r\n          } else {\r\n            alert(response.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    // 获取轮播图\r\n    getBanner() {\r\n      var that = this;\r\n      this.axios\r\n        .get(`/u/video/banner`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          if (response.data.code == 0) {\r\n            that.banner = response.data.data;\r\n            console.log(that.info);\r\n          } else {\r\n            alert(response.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  components: {\r\n    myVideo\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/style/public\";\r\n.video {\r\n  margin-top: $header_h;\r\n  background-color: #fbf3d0;\r\n  position: relative;\r\n  .nav {\r\n    background-color: #ffe57e;\r\n    display: flex;\r\n    z-index: 100;\r\n    position: relative;\r\n    .nav-item {\r\n      width: 50%;\r\n      text-align: center;\r\n      line-height: 0.8rem;\r\n      font-size: 0.36rem;\r\n      color: #5f2500;\r\n      font-weight: 700;\r\n    }\r\n    i {\r\n      border-left: 2px solid #5f2500;\r\n      margin: 5px;\r\n    }\r\n    .active {\r\n      border-bottom: 3px solid #e3a51c;\r\n    }\r\n  }\r\n  .mask {\r\n    width: 100%;\r\n    height: $height - $header_h;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    z-index: 1;\r\n  }\r\n  .drop {\r\n    padding: 0 2%;\r\n    background-color: #ffe57e;\r\n    position: absolute;\r\n    z-index: 100;\r\n    width: 96%;\r\n    .dropmeau {\r\n      background-color: #fcd32d;\r\n      padding: 0.3rem 0.2rem;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap;\r\n      li {\r\n        width: 30%;\r\n        background-color: #ffe57e;\r\n        font-size: 0.36rem;\r\n        color: #5f2500;\r\n        font-weight: 700;\r\n        border-radius: 5px;\r\n        text-align: center;\r\n        margin-bottom: 0.2rem;\r\n        padding: 0.1rem 0;\r\n        &.active {\r\n          background-color: #dd9f1a;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .mint-swipe {\r\n    height: 3.5rem;\r\n    .mint-swipe-item {\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n  .tip {\r\n    color: #ccc;\r\n    height: calc(#{$height} - #{$header_h} - 4.3rem);\r\n  }\r\n  .fs-34 {\r\n    font-size: 0.34rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=28268c4f&scoped=true&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./video.vue?vue&type=style&index=0&id=28268c4f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28268c4f\",\n  null\n  \n)\n\ncomponent.options.__file = \"video.vue\"\nexport default component.exports"],"sourceRoot":""}